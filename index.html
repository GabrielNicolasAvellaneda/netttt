<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>netttt - evolving neural networks to play tic tac toe</title>

    <style>
      body {
        font-family: sans-serif;
      }
      h2, h4 {
        margin: 0;
      }
      #about {
        float: right;
        width: calc(100% - 600px - 2em - 8ex);
      }
      .control {
        margin: 1ex;
      }
      #status, #stats, #demos, #export {
        margin: 1em;
      }
      .clear {
        clear: both;
      }
      .demo-container {
        float: left;
        margin: 1ex;
      }
    </style>
  </head>
  <body>
    <div id="about">
      <h4>What is this?</h4>
      <p>
        <strong>netttt</strong> uses a genetic algorithm to evolve a neural net
        to play tic tac toe with some intelligence.  It's written in pure
        JavaScript and runs completely in your browser.  It utilizes web
        workers to parallelize the work, and local storage to save your
        progress.
      </p>
      <h4>How does it work?</h4>
      <p>
        There's a lot going on under the hood here.  TODO
      </p>
      <ul>
        <li>The foundation is a "Smart" AI that plays a perfect game, that means 1) never loses, 2) tries to win quickly, and 3) makes moves that allow the opponent to fumble</li>
        <li>Generate all board states, use AI to figure out the "right" moves in each case</li>
        <li>Game state for each valid move from each board state is fed into net, output is desirability of that state, highest is used as move to make</li>
        <li>Nets in each generation are scored based on how often they're right</li>
        <li>Best nets "reproduce" to the next generation</li>
        <li>Also some random perturbance</li>
      </ul>
      <h4>Links</h4>
      <ul>
        <li><a href="play.html">Play</a></li>
        <li><a href="test.html">Tests</a></li>
        <li><a href="https://github.com/chazomaticus/netttt">Code</a></li>
      </ul>
    </div>

    <div id="status">
      <h2 id="current"
          data-unpaused="Running generation {generation}..."
          data-paused="Paused at generation {generation}"
          data-pausing="Pausing..."
      >&nbsp;</h2>
      <div id="time"
          data-template="Last generation took {time}ms"
      >&nbsp;</div>
      <span class="control">
        <input id="pause" type="button" value="Pause"
            data-paused="Resume" data-unpaused="Pause">
      </span>
      <span class="control">
        <input id="reset" type="button" value="Reset" disabled>
      </span>
      <span class="control">
        <label for="workers">Workers:</label>
        <input id="workers" type="number" maxlength="2" size="2">
      </span>
      <span class="control">
        <label for="mutation">Mutation rate:</label>
        <input id="mutation" type="number" maxlength="6" size="6">
      </span>
    </div>

    <div id="stats">
      <div id="summary">
        <h4>
          Last generation:
        </h4>
        <dl>
          <dt>Top score:</dt>
          <dd id="generation-best" data-template="{score} (age {age})"
          >&nbsp;</dd>
          <dt>Average score:</dt>
          <dd id="generation-average" data-template="{score}">&nbsp;</dd>
        </dl>
      </div>
      <div id="leaderboard">
        <h4>
          Top ten nets:
        </h4>
        <ol id="leaders">
          <li id="leader-0"
              data-template="Score {score} (age {age}) from generation {generation}"
          ></li>
          <li id="leader-1"></li>
          <li id="leader-2"></li>
          <li id="leader-3"></li>
          <li id="leader-4"></li>
          <li id="leader-5"></li>
          <li id="leader-6"></li>
          <li id="leader-7"></li>
          <li id="leader-8"></li>
          <li id="leader-9"></li>
        </ol>
      </div>
    </div>

    <div id="demos">
      <h4>Top net playing as:</h4>
      <div class="demo-container">
        <div class="demo-header">X vs. random</div>
        <canvas id="x-random-demo-board" width="150" height="150"></canvas>
      </div>
      <div class="demo-container">
        <div class="demo-header">X vs. smart</div>
        <canvas id="x-smart-demo-board" width="150" height="150"></canvas>
      </div>
      <div class="demo-container">
        <div class="demo-header">O vs. random</div>
        <canvas id="o-random-demo-board" width="150" height="150"></canvas>
      </div>
      <div class="demo-container">
        <div class="demo-header">O vs. smart</div>
        <canvas id="o-smart-demo-board" width="150" height="150"></canvas>
      </div>
    </div>
    <div class="clear"></div>

    <div id="export">
      <h4>Top net source:</h4>
      <textarea id="top-export" rows="16" cols="64"></textarea>
    </div>

    <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="src/ttt.js"></script>
    <script src="src/neural.js"></script>
    <script src="src/ai.js"></script>
    <script src="src/netttt.js"></script>
    <script src="main.js"></script>
  </body>
</html>
